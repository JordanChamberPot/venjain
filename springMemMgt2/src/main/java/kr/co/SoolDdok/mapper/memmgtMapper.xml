<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="dodoChat.entry">

<!--   <select id="allCnt" resultType="int"> 
      select count(NUM) CNT from board
  </select>-->

<!--   <select id="getArticles" parameterType="hashmap" resultType="mdto"> -->
<!-- 	SELECT A.*                                                           -->
<!--     	FROM (SELECT ROWNUM RR, RMEMTB.*                                -->
<!--            FROM  (SELECT MEMID ,MEMSEQ ,MEMNAME,  -->
<!--                          MEMTEL, MEMBIRTH, REGDATE,  -->
<!--                          MEMEMAIL, MEMGENDER, PASSWD                        -->
<!--                    FROM MEMTB                                      -->
<!--                    ORDER BY REGDATE DESC, MEMSEQ ASC ) RMEMTB) A -->
<!--   <choose> -->
<!-- 	<when test="memseq!=null">		  		   -->
<!-- 		WHERE MEMSEQ = #{memseq}           -->
<!-- 	</when>		  	 -->
<!--   </choose>	  	 -->
<!-- </select> -->

<insert id="getJoin" parameterType="mdto">
<selectKey keyProperty="memseq" resultType="int" order="BEFORE">
		SELECT NVL(MAX(MEMSEQ),0)+1 memseq FROM MEMTB
	</selectKey>
	INSERT INTO MEMTB(MEMID ,MEMSEQ ,MEMNAME, 
                     MEMTEL, MEMBIRTH, REGDATE, 
                     MEMEMAIL, MEMGENDER, PASSWD)                       
               VALUES(#{memid} ,#{memseq} ,#{memname}, 
                      #{memtel}, #{membirth}, sysdate, 
                      #{mememail}, #{memgender}, #{passwd})
                         
</insert>

</mapper>